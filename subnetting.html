<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Subnetting | ToolkIT</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/subnetting.css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,700" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.3/vue.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.4/js/all.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.3/seedrandom.min.js">
  </script>
</head>


<body>
  <div id="subnetting">
    <div class="smallMenu">
      <div class="menuItem menuSettings" title="Nastavení" @click="swapSettings" v-bind:class="{'active': settings}"><i class="fas fa-cog" aria-hidden="true"></i></div>
      <div class="menuItem menuSubnettingHelp" title="Nápověda" @click="swapSubnettingHelp" v-bind:class="{'active': help, 'border': this.help && this.settings}"><i class="fas fa-question-circle" aria-hidden="true"></i></div>
      <div class="menuItem menuBack" title="Zpět na úvodní stránku" v-if="settings"><a href="index.html"><i class="fas fa-home"></i><span>ToolkIT</span></a></div>
    </div>

    <div class="help">
      <div class="">
        <div class="title">Základní pravidla pro tvorbu subnetů</div>
        JAK POSTUPOVAT
        <ul>
          <li>Podsítě vytváříme podle velikosti od největší po nejmenší</li>
          <li>Pokud má více podsítí stejnou velikost postupujeme abecedně</li>
          <li>Podsítě navazujeme hned za sebe a dbáme na jejich co nejmenší velikost</li>

        </ul>
        URČOVÁNÍ ADRES
        <ul>
          <li>Jako první, abychom vůbec věděli jak subnety seřadit, zjistíme jejich velikost(prefix). Ptáme se na otázku: kolik bitů potřebujeme pro hosty? Například v podsíti pro 20 hostů potřebujeme 5 bitů (5 bitů = maximálně 32 možných adres), prefix tedy bude 32 - 5 = <b>/27</b>
<div class="helper">
  <div>
    <table>
      <tr>
        <td >192 . 0 . 2 . 000</td>
        <td style="color: black;padding:0 5px"> | </td>
        <td>00000</td>
      </tr>
      <tr>
        <td class="smaller" style="text-align:right">adresa podsítě</td>
        <td style="color: black;padding:0 5px"> | </td>
        <td class="smaller">místo pro hosty</td>
      </tr>
    </table>
    </div>
</div>

          </li>
          <li>Adresou podsítě je první adresa v podsíti (v části pro hosty binárně samé 0)</li>
          <li>Broadcastem podsítě je poslední adresa v podsíti (v části pro hosty binárně samé 1)</li>
<li>
  Příklad subnetu s prefixem /27 (poslední oktet binárně):
  <div class="helper">
    <div>
      <table>
        <tr>
          <td class="smaller">adresa podsítě</td>
          <td>192 . 0 . 2 . 000 | 00000</td>
        </tr>
        <tr>
          <td class="smaller" style="padding-right: 60px">první použitelná adresa</td>
          <td>192 . 0 . 2 . 000 | 00001</td>
        </tr>
        <tr>
          <td class="smaller" >poslední použitelná adresa</td>
          <td>192 . 0 . 2 . 000 | 11110</td>
        </tr>
        <tr>
          <td class="smaller">adresa broadcastu</td>
          <td>192 . 0 . 2 . 000 | 11111</td>
        </tr>
      </table>
      </div>
  </div>
</li>
          <li>Pokračujeme další podsítí, například:
            <div class="helper">
              <div>
                <table>
                  <tr>
                    <td class="smaller">adresa podsítě</td>
                    <td>192 . 0 . 2 . 001 | 00000</td>
                  </tr>
                  <tr>
                    <td class="smaller" style="padding-right: 60px">první použitelná adresa</td>
                    <td>192 . 0 . 2 . 001 | 00001</td>
                  </tr>
                  <tr>
                    <td style="letter-spacing:5px;font-weight:bold">...</td>
                  </tr>
                </table>
                </div>
            </div></li>
        </ul>


      </div>

    </div>
    <div class="settings" v-show="settings">
      <div class="container">
        <div class="area">
          <div class="inputs clearfix" :style="{ 'opacity': inputDisabled ? 0.5 : 1.0 }" v-if="!specs">
            <h1>Subnetting</h1>
            <table class="mainIn">
              <tr>
                <td>
                  Počet podsítí
                </td>
                <td class="space">

                </td>
                <td class="ip">
                  IP Adresa
                </td>
                <td>

                </td>
                <td class="prefix">
                  Prefix
                </td>

              </tr>
              <tr>
                <td class="countHosts">
                  <input type="text" v-model="subnetCountIn" :disabled="inputDisabled" :style="{ 'border-color': baseCountColor }" placeholder="(2-14)">
                </td>
                <td class="space e">
                  &nbsp;
                </td>
                <td class="ip">
                  <input type="text" v-model="baseIPIn" class="ip" :disabled="inputDisabled" :style="{'border-color': baseIPColor }" placeholder="(náhodná)">
                  <div @click="downTheIP" class="downer" v-if="!comboValid && ipValid && prefixValid"><i class="fas fa-chevron-down"></i></div>
                </td>
                <td class="space">
                  /
                </td>
                <td class="prefix">
                  <input type="text" v-model="prefixIn" class="prefix" :disabled="inputDisabled" :style="{ 'border-color': basePrefixColor }" placeholder="(1-28)">
                </td>
              </tr>
            </table>

            <div class="caption">
              Předvolby nastavení<span @mouseleave="diffInfo = false" @mouseover="diffInfo = true"><i class="fas fa-info-circle"></i></span>
            </div>
            <div class="diff">

              <input type="radio" name="diff" id="z" v-model="diff" value="1" :disabled="inputDisabled">
              <label for="z" class="desc" @click="setDiff1">
                <div v-if="!diffInfo">
                  <span class="diffName">začátečník</span>
                </div>
                <div v-if="diffInfo">
                  <span>192.0.2.0</span>
                  <span>prefix /24</span>
                  <span>2-3 podsítě</span>
                </div>
              </label>
              <input type="radio" name="diff" id="pr" v-model="diff" value="2" :disabled="inputDisabled" checked>
              <label for="pr" class="desc" @click="setDiff2">
                <div v-if="!diffInfo">
                  <span class="diffName">průměrný</span>
                </div>
                <div v-if="diffInfo">
                  <span>192.0.2.0</span>
                  <span>prefix /24</span>
                  <span>4-6 podsítí</span>
                </div>

              </label>
              <input type="radio" name="diff" id="po" v-model="diff" value="3" :disabled="inputDisabled">
              <label for="po" class="desc" @click="setDiff3">
                <div v-if="!diffInfo">
                  <span class="diffName">pokročilý</span>
                </div>
                <div v-if="diffInfo">
                  <span>192.0.2.?</span>
                  <span>prefix /24 - /26</span>
                  <span>4-8 podsítí</span>
                </div>
              </label>
              <input type="radio" name="diff" id="e" v-model="diff" value="4" :disabled="inputDisabled">
              <label for="e" class="desc" @click="setDiff4">
                <div v-if="!diffInfo">
                  <span class="diffName">expert</span>
                </div>
                <div v-if="diffInfo">
                  <span>náhodná IP</span>
                  <span>prefix /22 - /26</span>
                  <span>4-8 podsítí</span>
                </div>
              </label>
            </div>
          </div>
          <div class="specs" v-if="specs" :style="{ 'opacity': inputDisabled ? 0.5 : 1.0 }">
            <h3>Další nastavení</h3>
            <table>
              <tr>
                <td>
                  Počítat s:
                </td>
                <td>

                  <!--<div class="radioChoose specsMask">
                    <div class="sliderBackg"></div>
                    <label>prefixem<input type="radio" name="specsMask" v-model="specsMask" v-bind:value="false" :disabled="inputDisabled"></label><!--
                 <label>maskou<input type="radio" name="specsMask" v-model="specsMask" v-bind:value="true" :disabled="inputDisabled"></label>
               </div>-->
                  <label class="label-cbx">
                    Adresa podsítě
                    <input type="checkbox" class="invisible" v-model="specsMask" :disabled="inputDisabled">
                    <div class="checkbox">
                      <svg width="20px" height="20px" viewBox="0 0 20 20">
                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                        <polyline points="4 11 8 15 16 6"></polyline>
                      </svg>
                    </div>
                  </label>

                  <label class="label-cbx">
                    První použitelná adresa
                    <input type="checkbox" class="invisible" v-model="specsMask" :disabled="inputDisabled">
                    <div class="checkbox">
                      <svg width="20px" height="20px" viewBox="0 0 20 20">
                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                        <polyline points="4 11 8 15 16 6"></polyline>
                      </svg>
                    </div>
                  </label>

                  <label class="label-cbx">
                    Poslední použitelná adresa
                    <input type="checkbox" class="invisible" v-model="specsMask" :disabled="inputDisabled">
                    <div class="checkbox">
                      <svg width="20px" height="20px" viewBox="0 0 20 20">
                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                        <polyline points="4 11 8 15 16 6"></polyline>
                      </svg>
                    </div>
                  </label>

                  <label class="label-cbx">
                    Broadcast
                    <input type="checkbox" class="invisible" v-model="specsMask" :disabled="inputDisabled">
                    <div class="checkbox">
                      <svg width="20px" height="20px" viewBox="0 0 20 20">
                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                        <polyline points="4 11 8 15 16 6"></polyline>
                      </svg>
                    </div>
                  </label>

                  <label class="label-cbx">
                    Maska
                    <input type="checkbox" class="invisible" v-model="specsMask" :disabled="inputDisabled">
                    <div class="checkbox">
                      <svg width="20px" height="20px" viewBox="0 0 20 20">
                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                        <polyline points="4 11 8 15 16 6"></polyline>
                      </svg>
                    </div>
                  </label>

                  <label class="label-cbx">
                    Prefix
                    <input type="checkbox" class="invisible" v-model="specsMask" :disabled="inputDisabled">
                    <div class="checkbox">
                      <svg width="20px" height="20px" viewBox="0 0 20 20">
                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                        <polyline points="4 11 8 15 16 6"></polyline>
                      </svg>
                    </div>
                  </label>

                </td>
              </tr>
              <tr>
                <td>Rezervní počet hostů: <br><span class="info">(Rezervu zaokrouhlujte dolů)</span></td>
                <td>
                  <div class="radioChoose specsReserve">
                    <div class="sliderBackg" :style="{'left': specsReservePosition.left, 'width': specsReservePosition.width}"></div>
                    <label>bez rezervy<input type="radio" name="specsReserve" v-model="specsReserve" v-bind:value="1" :disabled="inputDisabled"></label><!--
                 --><label>10%<input type="radio" name="specsReserve" v-model="specsReserve" v-bind:value="2" :disabled="inputDisabled"></label><!--
                 --><label>25%<input type="radio" name="specsReserve" v-model="specsReserve" v-bind:value="3" :disabled="inputDisabled"></label><!--
                 --><label>50%<input type="radio" name="specsReserve" v-model="specsReserve" v-bind:value="4" :disabled="inputDisabled"></label>
                  </div>
                </td>

              </tr>
              <tr>
                <td>Generovat ze seedu: <br><span class="info">(Stejný seed a nastavení = stejný příklad)</span></td>
                <td><input @change="updateSeed" v-model="specsSeed" type="text" placeholder="(náhodně)" :disabled="inputDisabled"></td>

              </tr>

            </table>
          </div>
          <div class="opts clearfix">

            <button type="button" class="additional" @click="swapSpecs" title="Další nastavení" v-bind:class="{'active': specs}">
              <i class="fas fa-sliders-h" aria-hidden="true"></i>
            </button>

            <button type="button" @click="generateNew" :disabled="!ipValid || !prefixValid || !comboValid || !countValid" v-if="!inputDisabled">
              Nový příklad
            </button>
            <button type="button" @click="swapSettings" v-if="inputDisabled">
              Pokračovat v řešení
            </button>
            <button type="button" @click="changeSettings" v-if="inputDisabled">
              Změnit zadání
            </button>

          </div>
        </div>
      </div>
    </div>
    <div class="main" v-show="!settings" v-cloak>
      <div class="container" :style="{'min-width': (specsMask&&answers) ? '1310px' : ''}">
        <h1>Subnetting</h1>
        <div class="subtitle">Rozdělte síť s adresou
          <span class="highlightArea"><span class="highlight">{{baseIP}} /{{basePrefix}}</span>
          <div class="popout">
            <table>
              <tr>
                <td colspan="2">K dispozici až {{hostsMax}} adres ({{baseIP}} - {{lastIP}})</td>
              </tr>
              <tr>
                <td>Adresa: </td>
                <td>
                  <span v-for="item in baseIPShow">{{item}}</span>
                </td>
              </tr>
              <tr>
                <td>Maska: </td>
                <td><span v-for="item in basePrefixShow">{{item}}</span></td>
              </tr>
            </table>
          </div>
          </span>
          <span v-if="reserve!=0">, u podsítí zohledněte rezervu {{reserve}}%:</span>
          <span v-if="reserve==0">na podsítě dle následujícího schématu:</span>
        </div>


        <canvas id="canvas" width="1110" height="520"></canvas>

        <table v-if="subnets.length > 0" class="inter">
          <tr>
            <td>Název</td>
            <td>Počet hostů</td>
            <td><span v-if="answers">Zadaná<br></span>Adresa</td>
            <td v-if="answers">Adresa<br>správně</td>
            <td><span v-if="answers">Zadaný<br></span>Broadcast</td>
            <td v-if="answers">Broadcast<br>správně</td>
            <td class="prefixCell" v-if="!specsMask"><span v-if="answers">Zadaný<br></span>Prefix</td>
            <td v-if="answers && !specsMask">Prefix<br>správně</td>

            <td class="maskCell" v-if="specsMask"><span v-if="answers">Zadaná<br></span>Maska</td>
            <td v-if="answers && specsMask">Maska<br>správně</td>
          </tr>
          <tr v-for="item in subnets">
            <td>{{item.name}}<span class="info" v-if="item.parent == 'btw' && reserve != 0">(bez rezervy)</span></td>
            <td>{{item.hosts}}</td>
            <td><input type="text" v-model="item.inFirstA" @input="resetFirstA(item)" :style="{ 'border-color': item.firstACheckColor }"></td>
            <td v-if="answers">{{item.firstA}}</td>
            <td><input type="text" v-model="item.inLastA" @input="resetLastA(item)" :style="{ 'border-color': item.lastACheckColor }"></td>
            <td v-if="answers">{{item.lastA}}</td>

            <td class="prefixCell" v-if="!specsMask"><input type="text" v-model="item.inPrefix" @input="resetPrefix(item)" class="prefix" :style="{ 'border-color': item.prefixCheckColor }"></td>
            <td v-if="answers && !specsMask">{{item.prefix}}</td>

            <td class="maskCell" v-if="specsMask"><input type="text" v-model="item.inMask" @input="resetPrefix(item)" class="mask" :style="{ 'border-color': item.prefixCheckColor }"></td>
            <td v-if="answers && specsMask">{{item.mask}}</td>
          </tr>
        </table>

        <div class="buttons clearfix">
          <div class="sectionL">
            <input type="text" v-model="fillAll" placeholder="dosadit do všech">
            <button type="button" @click="fillAllTrigger"><i class="fas fa-chevron-up"></i></button>
          </div>
          <div class="sectionR">
            <button @click="check">Zkontrolovat</button>
            <button @click="showResults">Zobrazit řešení</button>
            <button @click="generate">Další příklad <i class="fas fa-arrow-right"></i></button>
          </div>
        </div>
      </div>
    </div>
    <div class="hide">
      {{thediff}}{{specsReserveSelected}}{{specsMaskSelected}}
    </div>
  </div>

  <script src="subnetting.js"></script>
</body>

</html>
